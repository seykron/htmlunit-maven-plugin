<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=$sourceEncoding$">
  <title>Jasmine JavaScript Test Runner</title>
  $cssDependencies$
  $bootstrapScripts$
  $sourceScripts$
</head>
<body>
  <div id="main"><!-- Let's have a main node for testing--></div>
  $testFiles$
  $testRunnerScript$
  <script type="text/javascript">
    jQuery(function () {
      // Takes the jasmine environment.
      var jasmineEnv = jasmine.getEnv();

      // Adds a simple reporter.
      jasmineEnv.addReporter(new jasmine.ConsoleReporter());

      // Hooks jasmine finalization callback to wait for tests.
      var finishCallback = jasmineEnv.currentRunner().finishCallback;
      jasmineEnv.currentRunner().finishCallback = function () {
        // Invokes finalization callback.
        finishCallback.apply(this, arguments);

        window.close();
      };

      // Executes jasmine tests.
      jasmineEnv.execute();
    });
  </script>
</body>
</html>
